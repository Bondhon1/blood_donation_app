{% extends "base.html" %}
{% block title %}Admin Request Details{% endblock %}

{% block content %}

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, msg in messages %}
      <div class="alert alert-{{ category }}">{{ msg }}</div>
    {% endfor %}
  {% endif %}
{% endwith %}
<h3>Reported Blood Request</h3>
<p><strong>Patient:</strong> {{ request_obj.patient_name }}</p>
<p><strong>Blood Group:</strong> {{ request_obj.blood_group }}</p>
<p><strong>Location:</strong> {{ request_obj.location }}</p>
<p><strong>Reason:</strong> {{ request_obj.reason }}</p>

<form action="{{ url_for('delete_blood_request', request_id=request_obj.id) }}" method="POST" onsubmit="return confirm('Delete this post?')">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    <button type="submit" class="btn btn-danger">Delete Post</button>
</form>
{% endblock %}